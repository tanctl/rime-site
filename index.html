<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rime</title>
  <style>
    :root {
      --bg: #010409;
      --surface: color-mix(in srgb, var(--bg) 85%, transparent);
      --chrome: #010409;
      --chrome-border: rgba(74, 92, 102, 0.45);
      --surface-muted: color-mix(in srgb, var(--surface) 75%, transparent);
      --accent: #3C8FB7;
      --muted: #2C4E5A;
      --text: #E8ECF0;
      --alert: #DE3163;
      --sans: "Inter", "IBM Plex Sans", "Segoe UI", sans-serif;
      --mono: "JetBrains Mono", "IBM Plex Mono", "SFMono-Regular", monospace;
      --content-width: 1280px;
    }

    * {
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
      background: var(--bg);
    }

    body {
      margin: 0;
      background: var(--bg);
      color: var(--text);
      font-family: var(--sans);
      line-height: 1.6;
      letter-spacing: 0.01em;
      text-rendering: optimizeLegibility;
      -webkit-font-smoothing: antialiased;
    }

    a {
      color: var(--muted);
      text-decoration: none;
      position: relative;
    }

    a::after {
      content: "";
      position: absolute;
      left: 0;
      bottom: -2px;
      width: 100%;
      height: 1px;
      background: var(--accent);
      transform: scaleX(0);
      transform-origin: left;
      transition: transform 0.18s ease;
    }

    a:hover::after,
    a:focus-visible::after {
      transform: scaleX(1);
    }

    a.button::after,
    .button-secondary::after,
    .nav-link::after {
      display: none;
    }

    :focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 3px;
    }

    .container {
      width: 100%;
      max-width: var(--content-width);
      margin: 0 auto;
      padding: 0 96px;
    }

    .header-container {
      padding: 0 8px;
    }

    header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: var(--chrome);
      border-bottom: 1px solid var(--chrome-border);
      backdrop-filter: blur(10px);
      margin-bottom: 0;
    }

    .nav {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 56px;
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      letter-spacing: 0.04em;
      text-transform: none;
      font-size: 20px;
      color: var(--accent);
    }


    .nav-links {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .nav-link {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      font-size: 18px;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--accent);
      padding: 8px;
      transition: color 0.16s ease;
    }

    .nav-link svg {
      width: 32px;
      height: 32px;
      stroke: currentColor;
      fill: none;
      transition: stroke 0.16s ease;
    }

    .nav-link:hover,
    .nav-link:focus-visible {
      color: var(--muted);
    }

    .nav-link:hover svg,
    .nav-link:focus-visible svg {
      stroke: var(--muted);
    }

    .menu-toggle {
      display: none;
      background: none;
      border: 1px solid rgba(74, 92, 102, 0.7);
      color: var(--accent);
      padding: 8px 10px;
      border-radius: 0;
      font-family: var(--sans);
      font-size: 13px;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      cursor: pointer;
    }

    .menu-icon {
      display: inline-block;
      width: 16px;
      height: 1px;
      background: var(--text);
      position: relative;
      margin-left: 8px;
    }

    .menu-icon::before,
    .menu-icon::after {
      content: "";
      position: absolute;
      left: 0;
      width: 16px;
      height: 1px;
      background: var(--text);
      transition: transform 0.2s ease;
    }

    .menu-icon::before {
      top: -6px;
    }

    .menu-icon::after {
      top: 6px;
    }

    .menu-toggle[aria-expanded="true"] .menu-icon::before {
      transform: translateY(6px);
    }

    .menu-toggle[aria-expanded="true"] .menu-icon::after {
      transform: translateY(-6px);
    }

    main {
      position: relative;
      padding-top: 0;
      background: var(--bg);
      overflow: visible;
    }

    main::before,
    main::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 0;
    }

    main::before {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='240' height='240' filter='url(%23n)' opacity='0.09' fill='%23%30%32%30%36%30%41'/%3E%3C/svg%3E");
      background-size: 320px 320px;
      opacity: 0.4;
      mix-blend-mode: normal;
    }

    main::after {
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='360' height='360'%3E%3Cpath d='M20 40 L140 0 M40 120 L240 20 M0 220 L220 40 M120 360 L360 120 M40 300 L300 60' stroke='%23A5E6FF' stroke-opacity='0.18' stroke-width='0.6'/%3E%3Cpath d='M0 0 L360 360 M60 0 L360 300 M120 0 L360 240 M180 0 L360 180 M240 0 L360 120' stroke='%234A5C66' stroke-opacity='0.2' stroke-width='0.4'/%3E%3C/svg%3E");
      background-size: 420px 420px;
      background-position: center;
      opacity: 0.25;
      mix-blend-mode: screen;
    }

    section {
      padding: 72px 0;
      position: relative;
      z-index: 1;
    }

    .hero h1 {
      color: var(--accent);
    }

    .hero {
      position: relative;
      overflow: visible;
      padding: 0;
      background: transparent;
    }

    .hero-content {
      position: relative;
      z-index: 1;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 32px;
      align-items: center;
    }

    .eyebrow {
      text-transform: uppercase;
      letter-spacing: 0.12em;
      color: var(--muted);
      font-size: 13px;
      margin: 0 0 12px;
    }

    .hero-art {
      display: grid;
      place-items: center;
      min-height: 320px;
      align-items: center;
      justify-self: end;
      align-self: center;
    }

    .brownian-frame {
      width: min(600px, 60vw);
      aspect-ratio: 1 / 1;
      position: relative;
      background: transparent;
      border: none;
      box-shadow: none;
      overflow: visible;
      padding: 0;
      box-sizing: border-box;
    }

    @media (min-width: 1100px) {
      .hero-content {
        grid-template-columns: 1.4fr 0.6fr;
      }
      .hero-art {
        justify-content: flex-end;
        padding-left: 40px;
        padding-top: 20px;
      }
    }

    @media (max-width: 760px) {
      .hero-art {
        display: none;
      }
    }

    .brownian-frame iframe {
      width: 100%;
      height: 100%;
      border: 0;
      display: block;
      background: transparent;
      pointer-events: auto;
      transform: scale(0.88) translateX(20%);
      transform-origin: center;
    }

    h1 {
      margin: 0 0 20px;
      font-size: clamp(36px, 5vw, 56px);
      line-height: 1.05;
      font-weight: 700;
      letter-spacing: -0.02em;
    }

    .subtitle {
      margin: 0 0 8px;
      color: var(--text);
      max-width: 1040px;
      font-size: 18px;
      line-height: 1.4;
    }

    .hero-stats {
      display: grid;
      gap: 12px;
      margin: 24px 0 0;
      color: var(--muted);
      font-family: var(--mono);
      font-size: 13px;
    }

    .cta-row {
      display: flex;
      align-items: center;
      gap: 18px;
    }

    .button {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 4px;
      padding: 12px 18px;
      border-radius: 0;
      border: none;
      font-weight: 500;
      letter-spacing: 0.02em;
      font-size: 18px;
      transition: color 0.15s ease;
      background: transparent;
      color: var(--muted);
    }

    .button svg {
      width: 24px;
      height: 24px;
      stroke: currentColor;
      fill: none;
    }

    .button.primary:hover {
      color: var(--accent);
    }

    .button-secondary {
      display: none;
    }

    .why {
      padding-top: 0;
      padding-bottom: 48px;
      background: transparent;
    }

    .why h2 {
      margin: 0 0 16px;
      font-size: 28px;
      letter-spacing: -0.01em;
    }

    .why p {
      margin: 0 0 12px;
      max-width: 760px;
      color: var(--text);
    }

    .solution,
    .architecture {
      padding: 48px 0;
      background: transparent;
    }

    .solution h2,
    .architecture h2 {
      margin: 0 0 18px;
      font-size: 26px;
      letter-spacing: -0.01em;
    }

    .solution p,
    .architecture p {
      margin: 0 0 12px;
      max-width: 880px;
      color: var(--text);
    }

    .privacy-modes {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-top: 18px;
    }

    .privacy-mode {
      display: flex;
      gap: 10px;
      align-items: flex-start;
      color: var(--text);
      font-size: 15px;
      line-height: 1.6;
    }

    .privacy-dot {
      width: 10px;
      height: 10px;
      margin-top: 6px;
      border-radius: 50%;
      background: var(--accent);
      flex-shrink: 0;
    }

    .privacy-dot.muted {
      background: var(--muted);
    }

    .text-alert {
      color: var(--alert);
    }

    .privacy-copy strong {
      display: block;
      font-weight: 700;
      margin-bottom: 2px;
      color: var(--text);
    }

    .mode-command {
      font-family: var(--mono);
      font-size: 13px;
      color: var(--accent);
      margin-top: 4px;
      word-break: break-word;
    }

    .usage-list {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 12px;
    }

    .usage-block {
      padding: 0;
      border: 0;
      background: transparent;
    }

    .usage-block strong {
      display: block;
      margin-bottom: 6px;
      color: var(--text);
    }

    .architecture-flow {
      display: flex;
      flex-wrap: wrap;
      gap: 12px;
      align-items: stretch;
      margin-top: 18px;
    }

    .arch-node {
      flex: 1 1 220px;
      border: 1px solid rgba(74, 92, 102, 0.6);
      padding: 14px;
      background: var(--surface-muted);
      color: var(--text);
      font-size: 14px;
      line-height: 1.5;
      position: relative;
    }

    .arch-node strong {
      display: block;
      font-weight: 700;
      margin-bottom: 6px;
      color: var(--text);
    }

    .arch-arrow {
      flex: 0 0 46px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--accent);
      font-family: var(--mono);
      font-size: 18px;
      letter-spacing: 0.08em;
      opacity: 0.9;
    }

    @media (max-width: 760px) {
      .container {
        padding: 0 30px;
      }

      .nav-links {
        position: static;
        right: auto;
        top: auto;
        background: transparent;
        border: 0;
        padding: 0;
        flex-direction: row;
        gap: 12px;
        min-width: auto;
        display: flex;
      }

      .menu-toggle {
        display: none;
      }

      .hero {
        padding-top: 96px;
      }

      .why {
        padding-top: 84px;
        padding-bottom: 48px;
      }

      .cta-row {
        flex-direction: column;
        align-items: flex-start;
      }

      pre {
        font-size: 13px;
      }

      .architecture-flow {
        flex-direction: column;
      }

      .arch-arrow {
        transform: rotate(90deg);
      }
    }

    .quickstart {
      padding: 96px 0 110px;
      background: transparent;
    }

    .quickstart h2 {
      margin: 0 0 16px;
      font-size: 24px;
      letter-spacing: -0.01em;
    }

    .quickstart p {
      margin: 0 0 14px;
      max-width: 760px;
      color: var(--text);
    }

    .quickstart pre {
      margin: 0;
      background: color-mix(in srgb, var(--surface) 85%, #0000);
      border: 1px solid rgba(74, 92, 102, 0.7);
      padding: 16px;
      color: var(--text);
      font-family: var(--mono);
      font-size: 14px;
      line-height: 1.55;
      overflow-x: auto;
    }

    code {
      font-family: var(--mono);
    }

    footer {
      padding: 18px 0 20px;
      border-top: 1px solid var(--chrome-border);
      color: var(--accent);
      font-size: 13px;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      background: var(--chrome);
      backdrop-filter: blur(10px);
    }

  </style>
</head>
<body>
  <header>
    <div class="container header-container nav">
      <div class="brand">Rime</div>
      <button class="menu-toggle" aria-expanded="false" aria-controls="nav-links">
        <span class="menu-label">Menu</span>
        <span class="menu-icon" aria-hidden="true"></span>
      </button>
      <nav id="nav-links" class="nav-links">
        <a class="nav-link" href="https://github.com/tanctl/rime" aria-label="GitHub">
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M9.5 21c-4.2 1.3-4.2-2.2-6-2.6M15 22v-3.1c0-.9-.3-1.5-.7-1.9 2.3-.2 4.7-1.1 4.7-5.1 0-1.1-.4-2-1-2.8.1-.2.4-1.2-.1-2.5 0 0-.9-.3-2.9 1-.8-.2-1.6-.3-2.4-.3-.8 0-1.6.1-2.4.3-2-1.3-2.9-1-2.9-1-.5 1.3-.2 2.3-.1 2.5-.6.8-1 1.7-1 2.8 0 4 2.4 4.9 4.7 5.1-.3.3-.6.8-.6 1.6V22" fill="none" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </a>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero">
      <div class="container hero-content">
        <div>
          <h1>Rime</h1>
          <p class="subtitle">
            A privacy-hardened Unified Address light client for Zcash. Addressing linkability that exists outside the cryptography.
          </p>
          <div class="cta-row">
            <a class="button primary" href="https://github.com/tanctl/rime" aria-label="GitHub">
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M9.5 21c-4.2 1.3-4.2-2.2-6-2.6M15 22v-3.1c0-.9-.3-1.5-.7-1.9 2.3-.2 4.7-1.1 4.7-5.1 0-1.1-.4-2-1-2.8.1-.2.4-1.2-.1-2.5 0 0-.9-.3-2.9 1-.8-.2-1.6-.3-2.4-.3-.8 0-1.6.1-2.4.3-2-1.3-2.9-1-2.9-1-.5 1.3-.2 2.3-.1 2.5-.6.8-1 1.7-1 2.8 0 4 2.4 4.9 4.7 5.1-.3.3-.6.8-.6 1.6V22" fill="none" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              GitHub
              <svg viewBox="0 0 24 24" aria-hidden="true">
                <path d="M5 12h14M13 6l6 6-6 6" stroke-width="1.4" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </a>
          </div>
        </div>
        <div class="hero-art">
          <div class="brownian-frame">
            <iframe src="brownian.html" title="Brownian snowflake" aria-hidden="true"></iframe>
          </div>
        </div>
      </div>
    </section>

    <section class="why" id="why">
      <div class="container">
        <h2>Why Rime Exists</h2>
        <p>The privacy gap: Zcash light clients leak metadata through multiple vectors:</p>
        <ul>
          <li><strong>Block range queries</strong> reveal <span class="text-alert">wallet age</span>, <span class="text-alert">sync frequency</span>, and <span class="text-alert">transaction density</span> to lightwalletd</li>
          <li><strong>Selective memo fetching</strong> exposes <span class="text-alert">exactly which transactions a wallet received</span></li>
          <li><strong>Transaction broadcasting</strong> reveals <span class="text-alert">which transactions were sent with linkable timing</span></li>
          <li><strong>Connection metadata</strong> (IP addresses, timing patterns) enables <span class="text-alert">correlation attacks</span> by both compromised servers and passive network observers</li>
        </ul>
        <p>These metadata leaks allow <span class="text-alert">transaction graph reconstruction</span> and <span class="text-alert">timing correlation attacks</span>, revealing exactly what shielded transactions are designed to hide.</p>
        <p style="margin-top: 24px;">ZIP-314 (reserved) identified these issues, and community discussions around it proposed solutions. RIME implements the client-side subset: full memo download, PIR with dummy queries, and Tor integration, plus additional privacy defenses: circuit isolation, bucketing, note density smoothing, and ephemeral/stateless modes.</p>
        <a href="https://forum.zcashcommunity.com/t/zip-314-privacy-upgrades-to-the-zcash-light-client-protocol/38868" class="link">Reference ZIP-314 analysis</a>
      </div>
    </section>
    <section class="solution" id="solution">
      <div class="container">
        <h2>Privacy modes</h2>
        <p>Privacy features address different adversaries: compromised servers, network observers, or both.</p>
        <div class="privacy-modes">
          <div class="privacy-mode">
            <span class="privacy-dot" aria-hidden="true"></span>
            <div class="privacy-copy">
              <strong>Full-memo privacy</strong>
              Downloads all memos in requested block ranges, preventing servers from learning which transactions are relevant.<br/>
              <div class="mode-command">cargo run -p rime-cli -- sync --sync-mode full-memo --endpoint https://testnet.zec.rocks:443</div>
            </div>
          </div>
          <div class="privacy-mode">
            <span class="privacy-dot" aria-hidden="true"></span>
            <div class="privacy-copy">
              <strong>PIR with fixed-interval dummy fetches</strong>
              Uses Private Information Retrieval with fixed-interval dummy queries to hide both which memos you fetch and when you fetch them.<br/>
              <div class="mode-command">cargo run -p rime-cli -- sync --sync-mode pir --pir-server https://pir1 --pir-server https://pir2 --pir-dummy-interval 60s --pir-bucket-size 1000 --endpoint https://testnet.zec.rocks:443</div>
            </div>
          </div>
          <div class="privacy-mode">
            <span class="privacy-dot" aria-hidden="true"></span>
            <div class="privacy-copy">
              <strong>Constant-cost scan</strong>
              Adds dummy decryptions and per-block delays to hide timing patterns during trial decryption, preventing observers from determining how many transactions you received.<br/>
              <div class="mode-command">cargo run -p rime-cli -- sync --const-cost --min-block-delay 50ms --dummy-decryptions 64 --endpoint https://testnet.zec.rocks:443</div>
            </div>
          </div>
          <div class="privacy-mode">
            <span class="privacy-dot" aria-hidden="true"></span>
            <div class="privacy-copy">
              <strong>Bucketed ranges</strong>
              Rounds sync start/end heights to fixed bucket sizes, preventing servers from inferring your exact wallet birthday or sync patterns.<br/>
              <div class="mode-command">cargo run -p rime-cli -- sync --bucket-size 1000 --endpoint https://testnet.zec.rocks:443</div>
            </div>
          </div>
          <div class="privacy-mode">
            <span class="privacy-dot" aria-hidden="true"></span>
            <div class="privacy-copy">
              <strong>Tor with circuit isolation</strong>
              Routes all traffic through Tor with circuit isolation to prevent session linking and query correlation.<br/>
              <div class="mode-command">cargo run -p rime-cli -- sync --tor-only --tor-isolate --endpoint https://testnet.zec.rocks:443</div>
            </div>
          </div>
          <div class="privacy-mode">
            <span class="privacy-dot" aria-hidden="true"></span>
            <div class="privacy-copy">
              <strong>Ephemeral mode</strong>
              Keeps the SQLite wallet and decrypted state in memory only. Nothing persists to disk after exit.<br/>
              <div class="mode-command">cargo run -p rime-cli -- sync --ephemeral --ufvk &lt;uview&gt; --birthday-height &lt;h&gt; --endpoint https://testnet.zec.rocks:443</div>
            </div>
          </div>
          <div class="privacy-mode">
            <span class="privacy-dot" aria-hidden="true"></span>
            <div class="privacy-copy">
              <strong>Stateless stream mode</strong>
              Streams and prints decrypted notes without creating a database, computing witnesses, or saving checkpoints. Each note is printed then discarded.<br/>
              <div class="mode-command">cargo run -p rime-cli -- sync --stateless --ufvk &lt;uview&gt; --birthday-height &lt;h&gt; --endpoint https://testnet.zec.rocks:443</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section class="architecture" id="architecture">
      <div class="container">
        <h2>Architecture</h2>
        <p>Receive-only UFVK client with encrypted local state. All privacy defenses execute deterministically, producing identical metadata patterns regardless of note detection outcomes.</p>
        <div class="architecture-flow" role="list">
          <div class="arch-node" role="listitem">
            <strong>CLI + privacy config</strong>
            Pick normal/full-memo/PIR, Tor-only or isolation, smoothing and bucket rounding, and opt into stateless or ephemeral runs. Handles UFVK import and Orchard migration prompts.
          </div>
          <div class="arch-arrow" aria-hidden="true">→</div>
          <div class="arch-node" role="listitem">
            <strong>Transport layer</strong>
            lightwalletd gRPC (TLS or plaintext) with optional Tor, plus dual-server PIR HTTP driven by a constant-rate scheduler with dummy queries. A local bucket index map binds heights to PIR buckets.
          </div>
          <div class="arch-arrow" aria-hidden="true">→</div>
          <div class="arch-node" role="listitem">
            <strong>Privacy mechanisms</strong>
            PIR with dummy cadence, full-memo ciphertext hydration, constant-cost smoothing (dummy decryptions and min per-block delay), bucket rounding for range endpoints, and Tor-only with isolation for RPC/PIR.
          </div>
          <div class="arch-arrow" aria-hidden="true">→</div>
          <div class="arch-node" role="listitem">
            <strong>Sync + integrity checks</strong>
            Trial-decrypt Sapling/Orchard with UFVK; when compact headers are present, run branch/header/PoW checks and recompute the Sapling root locally; bind the Orchard treestate root to the validated header hash at checkpoints/final height; detect reorgs, reset to birthday, and checkpoint pools every 1000 blocks when non-empty.
          </div>
          <div class="arch-arrow" aria-hidden="true">→</div>
          <div class="arch-node" role="listitem">
            <strong>State handling</strong>
            Encrypted seed (Argon2id + AES-GCM) and UFVK persisted, notes/witnesses/block-hash cache/tree checkpoints in SQLite, full-memo cache kept in-memory, ephemeral keeps the DB in-memory, stateless streams notes without DB or witnesses.
          </div>
          <div class="arch-arrow" aria-hidden="true">→</div>
          <div class="arch-node" role="listitem">
            <strong>Outputs</strong>
            Balances, history, UA/UFVK export, seed export; receive-only, shielded-only; Orchard migration derives UFVK from the seed then resets to birthday to rescan.
          </div>
        </div>
      </div>
    </section>

    <section class="quickstart" id="quickstart">
      <div class="container">
        <h2>Running Rime</h2>
        <p>Receive-only UA client. Create or import a UFVK, then pick the sync privacy mode you want.</p>
        <div class="usage-list">
          <div class="usage-block">
            <strong>Init new wallet</strong>
            <div class="mode-command">cargo run -p rime-cli -- init --network testnet --birthday-height 0</div>
          </div>
          <div class="usage-block">
            <strong>Import UFVK (receive-only)</strong>
            <div class="mode-command">cargo run -p rime-cli -- import-ufvk --ufvk &lt;uview&gt; --birthday-height &lt;h&gt;</div>
          </div>
          <div class="usage-block">
            <strong>Sync (choose your privacy mode)</strong>
            <div class="mode-command">cargo run -p rime-cli -- sync --endpoint https://testnet.zec.rocks:443</div>
            <div class="mode-command"># --sync-mode full-memo (download all memos)</div>
            <div class="mode-command"># --sync-mode pir --pir-server &lt;url1&gt; --pir-server &lt;url2&gt; [--pir-bucket-size 1000] [--pir-dummy-interval 60s]</div>
            <div class="mode-command"># --const-cost --dummy-decryptions 64 --min-block-delay 50ms (timing smoothing)</div>
            <div class="mode-command"># --bucket-size 1000 (round ranges), --batch N (block batch size)</div>
            <div class="mode-command"># --tor-only [--tor-isolate] (Tor), --rpc-timeout 20s --rpc-retries 6 (tune RPC)</div>
            <div class="mode-command"># --ephemeral --ufvk &lt;uview&gt; --birthday-height &lt;h&gt; (in-memory DB)</div>
            <div class="mode-command"># --stateless --ufvk &lt;uview&gt; --birthday-height &lt;h&gt; (stream notes, no DB)</div>
          </div>
          <div class="usage-block">
            <strong>Balance</strong>
            <div class="mode-command">cargo run -p rime-cli -- balance [--pool sapling|orchard] [--json]</div>
          </div>
          <div class="usage-block">
            <strong>History</strong>
            <div class="mode-command">cargo run -p rime-cli -- history [--limit N] [--json]</div>
          </div>
          <div class="usage-block">
            <strong>Keys</strong>
            <div class="mode-command">cargo run -p rime-cli -- keys [address|fvk|sapling|migrate-orchard]</div>
          </div>
          <div class="usage-block">
            <strong>Seed export (receive-only wallet seed)</strong>
            <div class="mode-command">cargo run -p rime-cli -- seed</div>
          </div>
        </div>
        <p style="margin-top: 14px; margin-bottom: 6px;">For full usage, privacy modes, and advanced options, see the README:</p>
        <p style="margin-top: 0;"><a href="https://github.com/tanctl/rime" class="link">github.com/tanctl/rime →</a></p>
      </div>
    </section>

  </main>

  <footer>
    <div class="container" style="text-align:center;">© 2025 Rime</div>
  </footer>

  <script>
    const toggle = document.querySelector(".menu-toggle");
    const nav = document.getElementById("nav-links");

    if (toggle && nav) {
      toggle.addEventListener("click", () => {
        const isOpen = nav.classList.toggle("open");
        toggle.setAttribute("aria-expanded", String(isOpen));
      });

      nav.querySelectorAll("a").forEach((link) => {
        link.addEventListener("click", () => {
          if (nav.classList.contains("open")) {
            nav.classList.remove("open");
            toggle.setAttribute("aria-expanded", "false");
          }
        });
      });
    }

    const brownianFrame = document.querySelector(".brownian-frame iframe");
    if (brownianFrame && brownianFrame.contentWindow) {
      const sendReset = () => {
        brownianFrame.contentWindow.postMessage({ type: "reset-snowflake" }, "*");
      };
      brownianFrame.addEventListener("mouseenter", sendReset);
      brownianFrame.addEventListener("focus", sendReset);
    }
  </script>
</body>
</html>
